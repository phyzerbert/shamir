$(document).ready(
		function() {
			// FIND EXTERNAL LINKS
			$.expr[":"].external = function(a) {
				// DO NOT INCLUDE THE FOLLOWING MATCHES: EMAIL LINKS, TELEPHONE
				// LINKS, HOSTNAME
				var result = !a.href.match(/^mailto\:/)
						&& !a.href.match(/^tel\:/)
						&& a.hostname != location.hostname
						&& !a.href.match(/\.usbank\.com/)
						&& !a.href.match(/\.usbankconnect\.com/)
						&& !a.href.match(/usbankcontour\.com/)
						&& !a.href.match(/usb-fit\.com/)
						&& !a.href.match(/taleo\.net/)
                        && !a.href.match(/carenet\.fnfismd\.com\/usbank/)
						&& !a.href.match(/customercarenet\.com/)
						&& !a.href.match(/https:\/\/usbank\.findmyspecialoffer\.com\/fmo\/preQual\/firstRequest\.do\?business\=wxunUB11iM0l3GLLCWZw9g&origSiteInd\=Dotcom/)
                        && !a.href.match(/https:\/\/usbank\.com\/mycard/)
						&& !a.href.match(/exploreusbank\.com/)
				        && !a.href.match(/account3000\.com\/usbank/);
						
				var url = a.href;
				if (result) {
					$(a).attr('data-ext-link', url);
					$(a).attr('href', '#');
				}

				return result;
			};

			// ADD EXTERNAL LINK CLASS
			$("a:external").addClass("externalLink");

			$("a.externalLink").click(function(e) {
				e.preventDefault();
				$("a.externalLink").attr('data-toggle', 'modal');
				$('a.externalLink').attr('data-target', '#speedBumpModal');
				var url = $(this).attr('data-ext-link');
				$('.btn-conf').attr('val', url);
                 $('#speedBumpModal').focus(); /* bug - 9828 */
			});

			$(".btn-conf").click(function() {
				var url = $(this).attr('val');
				window.open(url, '_blank');
				$('#speedBumpModal').modal('toggle');
			});


			$('#speedBumpModal').on('show.bs.modal',function(){	
                $('body').css('overflow','hidden');
                $('body').css('position','fixed');
                $(this).attr("aria-hidden", "false");	
                $(this).attr("aria-label","Popup window has appeared");	
            });

            $('#speedBumpModal').on('hide.bs.modal',function(){
                $(this).attr("aria-label","Popup window has disappeared");
                // $('body').css('overflow','scroll');
                $('body').css('position','inherit');
				$(this).attr("aria-hidden", "true");
            });

		});