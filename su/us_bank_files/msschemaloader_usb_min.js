function msSchemaLoader(){try{var xhr=new XMLHttpRequest();var alt_xhr=new XMLHttpRequest();var uri=window.location.href;var domainname=extractRootDomain(uri);var subdomain=extractSubdomain(uri);var api="https://schema.milestoneinternet.com/schema/"+subdomain+"/"+"schema.json";xhr.onreadystatechange=function(){if(xhr.readyState==4&&xhr.status==404){api="https://schema.milestoneinternet.com/schema/"+domainname+"/"+"schema.json";alt_xhr.onreadystatechange=function(){if(alt_xhr.readyState==4&&alt_xhr.status==200){msFilter.remove(['Product'],'json-ld');jsonld=document.createElement('script');jsonld.type="application/ld+json";jsonld.id='ms-jsonblock';jsonld.innerHTML=alt_xhr.responseText;document.getElementsByTagName('head')[0].appendChild(jsonld);}};alt_xhr.open("GET",api,true);alt_xhr.setRequestHeader('x-ms-blob-type','BlockBlob');alt_xhr.send();}
if(xhr.readyState==4&&xhr.status==200){msFilter.remove();jsonld=document.createElement('script');jsonld.type="application/ld+json";jsonld.id='ms-jsonblock';jsonld.innerHTML=xhr.responseText;document.getElementsByTagName('head')[0].appendChild(jsonld);document.innerHTML=xhr.responseText;}};xhr.open("GET",api,true);xhr.setRequestHeader('x-ms-blob-type','BlockBlob');xhr.send();}catch(error){console.log(error);}};function extractRootDomain(url){var domain=extractHostname(url),splitArr=domain.split('.'),arrLen=splitArr.length;if(arrLen>2){domain=splitArr[arrLen-2]+'.'+splitArr[arrLen-1];}
if(splitArr[arrLen-2].length==2&&splitArr[arrLen-1].length==2){domain=splitArr[arrLen-3]+'.'+domain;}
return domain;};function extractSubdomain(url){var subdomain="";url=url.replace(new RegExp(/^http\:\/\/|^https\:\/\/|^ftp\:\/\//i),"");url=url.replace(new RegExp(/^uat\.|^www\./i),"");url=url.split('?').shift();if(url!=null){subdomain=trimTrailingChars(url,"/");}
return subdomain;};function extractHostname(url){var hostname;if(url.indexOf("://")>-1){hostname=url.split('/')[2];}else{hostname=url.split('/')[0];}
hostname=hostname.split(':')[0];hostname=hostname.split('?')[0];return hostname;};function trimTrailingChars(s,charToTrim){var regExp=new RegExp(charToTrim+"+$");var result=s.replace(regExp,"");return result;};var msFilter={onLoad:'load',remove:function(){msFilter.removeMicroData();msFilter.removeJSONLD();},removeJSONLD:function(){var scriptElements=document.querySelectorAll('[type="application/ld+json"]');var jsonLDElements=[];for(var i=0;i<scriptElements.length;i++){scriptElements[i].remove();}},removeMicroData:function(){var typeElements=document.querySelectorAll('[itemtype]');if(typeElements.length===0){typeElements=document.querySelector("html");}
var filteredElements=[];for(var i=0;i<typeElements.length;i++){var ele=typeElements[i];var type=ele.getAttribute('itemtype');var normalizedType=type.split('/').pop();filteredElements.push(ele);}
for(var i=0;i<filteredElements.length;i++){var element=filteredElements[i];element.removeAttribute('itemtype');var taggedChildren=element.querySelectorAll('[itemprop]');for(var j=0;j<taggedChildren.length;j++){var childElement=taggedChildren[j];childElement.removeAttribute('itemprop');childElement.removeAttribute('itemscope');childElement.removeAttribute('content');}}}};