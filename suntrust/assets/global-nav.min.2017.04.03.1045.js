$(function(){var k=$('div[data-suntrust-class="suntrust-main"]'),p,l,a,f,y,u,n,e,h,b;if(k.length>0){var w=$("#suntrust-page"),r=$("header.suntrust-header-alt"),i=$("#suntrust-login-form"),tt=!1,c;c=$("html").hasClass("ie8")||$("body").hasClass("ie8")?!0:!1,$(".suntrust-search-input").focus(function(){$(this).select()}),r.length>0&&(typeof deviceDetection!="undefined"&&typeof suntrustPage=="undefined"&&r.find(deviceDetection.selector).removeClass("sun-global-app-element"),p=r.find(".suntrust-menu-alert-top-container"),p.each(function(){var n=$(this);n.children().not(".sun-global-app-element").length==0&&n.hide()}),r.length>0&&r.find("input, textarea").placeholder(),i.length>0&&r.find(".suntrust-user-icon-button").removeClass("hidden-element")),$.uniform.update("#segment"),l=$('div[data-suntrust-class="notification-message"]'),a="notification-message notification-in-header",l.length>0&&(f=l.find('button[data-suntrust-class="close-notification-message"]'),y=getCookie(f.attr("data-name")),y!=f.attr("data-val")&&w.addClass(a),f.click(function(){w.removeClass(a);var n={expire:30,name:$(this).attr("data-name"),value:$(this).attr("data-val"),secure:window.location.protocol=="https:"?!0:!1,domain:window.location.host,path:"/"};setCookie(n.name,n.value,n.expire,n.path,n.domain,n.secure)})),u=i.find("select.suntrust-bank-segment");if(u.length>0){n={olbCookie:get_cookieNoUnescape("OLBRMdata"),olbMaskedValue:"",olbEncryptedValue:"",olbValid:!1,optionCookie:getCookie("SignOnOption"),optionValid:!1,olbIsEncrypted:function(){return n.olbCookie!=null&&n.olbCookie!=""&&n.olbEncryptedValue!=""&&n.olbMaskedValue!=""?!0:!1}};if(n.optionCookie!=null&&n.optionCookie!=""){var o=n.optionCookie,t=i.find("#SignOn-"+o),nt=$(".suntrust-more-services-wrapper[id=OtherServices-"+o+"]"),g=$(".suntrust-app-banner-wrapper[id=MobileApps-"+o+"]");t.length>0&&(i.find("div.suntrust-signon-login-form").addClass("hidden"),t.removeClass("hidden"),$("div.suntrust-more-services-wrapper").addClass("hidden"),nt.removeClass("hidden"),$("div.suntrust-app-banner-wrapper").addClass("hidden"),g.removeClass("hidden"),u.val(o))}$.uniform.update(u);if(n.olbCookie!=null&&n.olbCookie!=""){e=n.olbCookie.replace("maskedValue=","").replace("encryptedValue=","").split("&");if(e.length=2){n.olbMaskedValue=e[0],n.olbEncryptedValue=e[1];if(n.olbIsEncrypted()){n.olbValid=!0;var v=$(".signOnLoginForm[data-apptype='OLB']"),d=$(".signOnLoginForm[data-apptype='OLB'][data-appid='"+n.optionCookie+"']"),s=v.find(".suntrust-login-user-input");n.optionValid&&n.optionCookie=="OLB"&&$(function(){var n=d.find(".suntrust-login-password");n.siblings("label").hide()}),s.val(n.olbMaskedValue),s.siblings(".suntrust-login-hidden-user-id").val(n.olbEncryptedValue),s.siblings(".suntrust-login-input-is-encrypted").val("true"),s.siblings("label").hide(),h=v.find(".suntrust-login-checkbox"),h.length>0&&(h.attr("checked",!0),$.uniform.update(h))}}}i.find(".suntrust-login-input").click(function(){$(this).select()}),u.change(function(){var r=this.value,u=i.find("#SignOn-"+r),f=$(".suntrust-more-services-wrapper[id=OtherServices-"+r+"]"),e=$(".suntrust-app-banner-wrapper[id=MobileApps-"+r+"]"),t,n;u.length>0&&(i.find("div.suntrust-signon-login-form").addClass("hidden"),u.removeClass("hidden"),$("div.suntrust-more-services-wrapper").addClass("hidden"),f.removeClass("hidden"),$("div.suntrust-app-banner-wrapper").addClass("hidden"),e.removeClass("hidden")),c&&(t=document.getElementsByTagName("head")[0],n=document.createElement("style"),n.type="text/css",n.styleSheet.cssText=":before,:after{content:none !important",t.appendChild(n),setTimeout(function(){t.removeChild(n)},0))}),b=i.find(".suntrust-login-button"),b.click(function(i){var c,r,h,a,f,u,e,s;i.preventDefault(),t=$(this).closest("form.signOnLoginForm"),c=!0,t.find(".suntrust-login-input").removeClass("sun-error"),t.find(".suntrust-login-input").each(function(){var n=$(this);($.trim(n.val()).length==0||n.is(".suntrust-login-user-input")&&$.trim(n.val())==n.attr("placeholder"))&&(n.addClass("sun-error"),c=!1)});if(c){var o={expire:30,secure:window.location.protocol=="https:"?!0:!1,domain:window.location.host,path:"/"},v=t.data("appid"),l=t.data("apptype"),y=t.data("gateway");setCookie("SignOnOption",v,o.expire,o.path,o.domain,o.secure),r=t.find(".suntrust-login-password"),h=r.siblings(".hiddenPublicKey"),y=="11g"&&h.length>0?(a=KEYUTIL.getRSAKeyFromPublicPKCS8PEM(h.val()),f=a.encrypt(r.val()),f=hex2b64(f),r.siblings(".hiddenPassword").val(f)):r.siblings(".hiddenPassword").val(r.val()),u=t.find(".suntrust-login-user-input"),l=="OLB"&&n.olbValid&&u.val()==n.olbMaskedValue||(u.siblings(".suntrust-login-hidden-user-id").val(u.val()),u.siblings(".suntrust-login-input-is-encrypted").val("false")),e=t.find(".suntrust-login-checkbox"),e.length>0&&l=="OLB"&&(s=e.closest(".suntrust-remember-me-field").find(".suntrust-login-checkbox-hidden"),e.is(":checked")?s.val("true"):(s.val("false"),delete_cookie("OLBRMdata"))),t.submit()}})}}});