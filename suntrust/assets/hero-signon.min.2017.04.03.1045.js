$(function(){var a=$('div[data-suntrust-class="suntrust-main"]'),n,r,s,e,l;if(a.length>0){var b=$("#suntrust-page"),u=$("#suntrust-login-form-herosignon"),w=!1,h;h=$("html").hasClass("ie8")||$("body").hasClass("ie8")?!0:!1,$.uniform.update("#segment"),n={olbCookie:get_cookieNoUnescape("OLBRMdata"),olbMaskedValue:"",olbEncryptedValue:"",olbValid:!1,optionCookie:getCookie("HeroSignOnOption"),optionValid:!1,olbIsEncrypted:function(){return n.olbCookie!=null&&n.olbCookie!=""&&n.olbEncryptedValue!=""&&n.olbMaskedValue!=""?!0:!1}},r=u.find("input.suntrust-bank-segment-herosignon-radio");if(r.length>0){if(n.optionCookie==null||n.optionCookie=="")r[0].checked=!0;else for(i=0;i<r.length;i++)if(r[i].id==n.optionCookie){r[i].checked=!0;break}else r[0].checked=!0;if(n.optionCookie!=null&&n.optionCookie!=""){var f=n.optionCookie,t=u.find("#SignOn-"+f),p=$(".suntrust-more-services-wrapper[id=OtherServices-"+f+"]"),y=$(".suntrust-app-banner-wrapper[id=MobileApps-"+f+"]");t.length>0&&(u.find("div.suntrust-signon-login-form").addClass("hidden-hero-signon"),t.removeClass("hidden-hero-signon"),$("div.suntrust-more-services-wrapper").addClass("hidden-hero-signon"),p.removeClass("hidden-hero-signon"),$("div.suntrust-app-banner-wrapper").addClass("hidden-hero-signon"),y.removeClass("hidden-hero-signon"),r.val(f))}$.uniform.update(r);if(n.olbCookie!=null&&n.olbCookie!=""){s=n.olbCookie.replace("maskedValue=","").replace("encryptedValue=","").split("&");if(s.length=2){n.olbMaskedValue=s[0],n.olbEncryptedValue=s[1];if(n.olbIsEncrypted()){n.olbValid=!0;var c=$(".signOnLoginForm[data-apptype='OLB']"),v=$(".signOnLoginForm[data-apptype='OLB'][data-appid='"+n.optionCookie+"']"),o=c.find(".suntrust-login-user-input");n.optionValid&&n.optionCookie=="OLB"&&$(function(){var n=v.find(".suntrust-login-password-herosignon");n.siblings("label").hide()}),o.val(n.olbMaskedValue),o.siblings(".suntrust-login-hidden-user-id").val(n.olbEncryptedValue),o.siblings(".suntrust-login-input-is-encrypted").val("true"),o.siblings("label").hide(),e=c.find(".suntrust-login-checkbox"),e.length>0&&(e.attr("checked",!0),$.uniform.update(e))}}}u.find(".suntrust-login-input").click(function(){$(this).select()}),r.change(function(){var i=this.id,r=u.find("#SignOn-"+i),f=$(".suntrust-more-services-wrapper[id=OtherServices-"+i+"]"),e=$(".suntrust-app-banner-wrapper[id=MobileApps-"+i+"]"),t,n;r.length>0&&(u.find("div.suntrust-signon-login-form").addClass("hidden-hero-signon"),r.removeClass("hidden-hero-signon"),$("div.suntrust-more-services-wrapper").addClass("hidden-hero-signon"),f.removeClass("hidden-hero-signon"),$("div.suntrust-app-banner-wrapper").addClass("hidden-hero-signon"),e.removeClass("hidden-hero-signon")),h&&(t=document.getElementsByTagName("head")[0],n=document.createElement("style"),n.type="text/css",n.styleSheet.cssText=":before,:after{content:none !important",t.appendChild(n),setTimeout(function(){t.removeChild(n)},0))}),l=u.find(".suntrust-login-button-herosignon"),l.click(function(i){var c,r,h,a,f,u,e,s;i.preventDefault(),t=$(this).closest("form.signOnLoginForm"),c=!0,t.find(".suntrust-login-input").removeClass("sun-error"),t.find(".suntrust-login-input").each(function(){var n=$(this);($.trim(n.val()).length==0||n.is(".suntrust-login-user-input")&&$.trim(n.val())==n.attr("placeholder"))&&(n.addClass("sun-error"),c=!1)});if(c){var o={expire:30,secure:window.location.protocol=="https:"?!0:!1,domain:null,path:"/"},v=t.data("appid"),l=t.data("apptype"),y=t.data("gateway");setCookie("HeroSignOnOption",v,o.expire,o.path,o.domain,o.secure),r=t.find(".suntrust-login-password-herosignon"),h=r.siblings(".hiddenPublicKey"),y=="11g"&&h.length>0?(a=KEYUTIL.getRSAKeyFromPublicPKCS8PEM(h.val()),f=a.encrypt(r.val()),f=hex2b64(f),r.siblings(".hiddenPassword").val(f)):r.siblings(".hiddenPassword").val(r.val()),u=t.find(".suntrust-login-user-input"),l=="OLB"&&n.olbValid&&u.val()==n.olbMaskedValue||(u.siblings(".suntrust-login-hidden-user-id").val(u.val()),u.siblings(".suntrust-login-input-is-encrypted").val("false")),e=t.find(".suntrust-login-checkbox"),e.length>0&&l=="OLB"&&(s=e.closest(".suntrust-remember-me-field").find(".suntrust-login-checkbox-hidden"),e.is(":checked")?s.val("true"):(s.val("false"),delete_cookie("OLBRMdata"))),t.submit()}})}}});